# etc#5 RESTful-API

## REST (Representational State Transfer) 

### 리소스(자원)와 메소드(행위)
REST 아키텍쳐를 이해하기 위해선 리소스(자원), 행위(HTTP method) 에 대한 이해가 먼저 필요하다.  
리소스는 웹상에서 표현하고자 하는 개체들을 의미한다. 예를들어 '게시물'이 하나의 리소스가 될 수 있고, '댓글' 역시 하나의 리소스가 될 수 있다.
또한 이러한 리소스는 URI 를 통해 구분이 가능하다. URI 의 I 가 identifier 임을 기억하자.  

그렇다면 행위란 무엇일까?  
자원을 가지고 할 수 있는 일들은 수 없이 많겠지만, 그 모든 일들을 추상화 하다보면 결국 CRUD 라는 것을 알 수 있다.
즉, 자원을 가지고
- 생성(Create)
- 읽음(Read)
- 수정(Update)
- 삭제(Delete)  

다음 중 어떤 일을 수행할 것인가에 대한 일인 것이다. 
REST 아키텍쳐에서는 자원에 대한 CRUD를 HTTP 메소드로 구분한다.
- Create -> POST
- Read -> GET
- Update -> PUT / PATCH (PUT 은 자원의 모든 프로퍼티를 변경할 때, PATCH는 일부 변경)
- Delete -> DELETE 
 
### API 
API 란 어떤 프로그램을 사용자가 수행할 수 있도록 해주는 매개체/명령을 의미한다. 예를들어, '리그 오브 레전드' 라는 게임에서 
게임을 시작하기 위해 큐를 돌리려면 '대전 찾기' 라는 버튼을 클릭해야한다. 대전 찾기라는 버튼은 게임을 하려는 사용자에게
제공되는 API 라고 할 수 있다. 

### REST API
REST API 역시 어떤 프로그램을 실행시키기 위한 매개체이다. 다만, REST API 는 내 컴퓨터의 프로그램이 아닌 서버의 프로그램을 
실행시키기 위한 명령이다. 인터넷과 웹상에서 HTTP 를 활용하여 서버의 어떤 프로그램을 동작 시키려 할 떄, 사용하는 규약인 것이다.

#### 예시
'리그 오브 레전드' 를 하다가 고의트롤을 만나, 게임이 끝나고 신고를 하는 것을 생각해보자. 아마, '신고' 라는 리소스는
신고를 한 사용자 아이디, 신고 내용, 신고 대상 아이디 과 같은 정보로 이루어져 있을 것이다. 그리고 신고를 하는 것은 
'신고' 라는 자원을 생성하는 일에 해당한다. 그리고 해당 자원은 내 컴퓨터에서 사용하는 자원이 아닌 서버에서 사용하는 자원이다.
REST API 를 사용하여 이와같은 일을 할 수 있을 것 같다는 생각이 든다.
우선 생성할 '신고' 자원에 대한 정보를 표현하고(참고로 표현방식 REST API가 제한하는 사항이 아니다. xml이든 json이든 text/plain 이든..)  
신고 {  
신고를 한 사용자 아이디 : Faker,  
신고 내용 : 고의트롤,  
신고 대상 아이디 : 야스오짱짱맨  
}  
POST Method 로 서버에 보내면   
서버는 '신고' 라는 자원을 POST 해달라는 요청을 받았기 때문에 '신고' 를 생성해두고 운영자들이 볼 수 있도록 저장하는 일이 수행 될 것이다. 

### 더 나아가기 (RESTFul..)
지금까지의 설명을 요약하면, REST API 는 URI로 표현되는 서버의 리소스를 HTTP Method 를 통해 조작하는 방법 정도로 보여진다.
그리고 이 정도만 알고 사용하는 경우도 많은 것 같다. 그렇지만 REST 아키텍쳐는 더 구체적인 특징들이 존재한다.
이를테면 Self-Descriptiveness(자체적으로 설명가능함) 을 만족해야한다. 
또 Hypermedia As The Engine Of Application State(HATEOAS) 
즉, 어플리케이션의 상태가 하이퍼링크를 통해서 항상 전이 되어야 하는 특성도 있다.   
위와 관련하여 조금 더 자세한 내용을 잘 설명한 강연이 있어 링크를 남겨둔다. - [그런 REST API 로 괜찮은가?](https://tv.naver.com/v/2292653) 


-----
참고  
* DEVIEW 2017 [그런 REST API 로 괜찮은가?](https://tv.naver.com/v/2292653)
* 생활코딩 [기계들의 대화법 - REST API](https://www.youtube.com/watch?v=PmY3dWcCxXI)









